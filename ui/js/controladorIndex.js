function playbtn(){$("#tempo").val()>=1?$("#play").addClass("green").removeClass("disabled"):$("#play").removeClass("green").addClass("disabled")}function medir(){$("#stepduracao").addClass("completed").removeClass("active"),$("#stepexec").addClass("active").removeClass("disabled"),$("#tempoSelect").hide(),$("#execute").show(),$("#progress").progress({total:$("#tempo").val()}),startReading($("#tempo").val())}function startReading(t){console.log(t);var e=null,a=t,r=function(){a<=0?$("#status").html("Gerando relatÃ³rio"):$("#status").html("Medindo"),console.log(a+" of "+t),$("#progress").progress("increment"),clearInterval(e),e=null,a--,s()},s=function(){a>=-2?(clearInterval(e),e=setTimeout(r,1e3)):(console.log("ACABOU!"),genReport(t))};s()}function genReport(t){$("#stepduracao").addClass("completed").removeClass("active"),$("#stepexec").addClass("completed").removeClass("active"),$("#steprelatorio").addClass("active").removeClass("disabled"),$("#tempoSelect").hide(),$("#execute").hide(),$("#relatorio").show(),estatograph(t),estabilograph(t)}function reset(){$("#progress").progress("reset"),$("#stepduracao").addClass("active").removeClass("completed"),$("#stepexec").addClass("disabled").removeClass("completed").removeClass("active"),$("#steprelatorio").addClass("disabled").removeClass("completed").removeClass("active"),$("#tempoSelect").show(),$("#execute").hide(),$("#relatorio").hide(),$("#graph1").html(""),$("#graph2").html("")}function estatograph(t){for(var e=[],a=0;a<50*t;a++){var r=100*Math.random(),s=100*Math.random();e[a]=[r,s]}var n={top:20,right:15,bottom:60,left:60},l=400-n.left-n.right,o=400-n.top-n.bottom,r=d3.scale.linear().domain([d3.min(e,function(t){return t[0]}),d3.max(e,function(t){return t[0]})]).range([0,l]),s=d3.scale.linear().domain([d3.min(e,function(t){return t[1]}),d3.max(e,function(t){return t[1]})]).range([o,0]),d=d3.select("#graph1").append("svg:svg").attr("width",l+n.right+n.left).attr("height",o+n.top+n.bottom).attr("class","chart"),i=d.append("g").attr("transform","translate("+n.left+","+n.top+")").attr("width",l).attr("height",o).attr("class","main"),c=d3.svg.axis().scale(r).orient("bottom");i.append("g").attr("transform","translate(0,"+o+")").attr("class","main axis date").call(c);var p=d3.svg.axis().scale(s).orient("left");i.append("g").attr("transform","translate(0,0)").attr("class","main axis date").call(p);var g=i.append("svg:g");g.selectAll("scatter-dots").data(e).enter().append("svg:circle").attr("cx",function(t,e){return r(t[0])}).attr("cy",function(t){return s(t[1])}).attr("r",3)}function estabilograph(t){for(var e=[],a=0;a<10*t;a++)e[a]=10*Math.random();var r=500,s=200,n=20,l=d3.scale.linear().domain([0,d3.max(e)]).range([0+n,s-n]),o=d3.scale.linear().domain([0,e.length]).range([0+n,r-n]),d=d3.select("#graph2").append("svg:svg").attr("width",r).attr("height",s),i=d.append("svg:g").attr("transform","translate(0, 200)"),c=d3.svg.line().x(function(t,e){return o(e)}).y(function(t){return-1*l(t)});i.append("svg:path").attr("d",c(e)),i.append("svg:line").attr("x1",o(0)).attr("y1",-1*l(0)).attr("x2",o(r)).attr("y2",-1*l(0)),i.append("svg:line").attr("x1",o(0)).attr("y1",-1*l(0)).attr("x2",o(0)).attr("y2",-1*l(d3.max(e))),i.selectAll(".xLabel").data(o.ticks(5)).enter().append("svg:text").attr("class","xLabel").text(String).attr("x",function(t){return o(t)}).attr("y",0).attr("text-anchor","middle"),i.selectAll(".yLabel").data(l.ticks(4)).enter().append("svg:text").attr("class","yLabel").text(String).attr("x",0).attr("y",function(t){return-1*l(t)}).attr("text-anchor","right").attr("dy",4),i.selectAll(".xTicks").data(o.ticks(5)).enter().append("svg:line").attr("class","xTicks").attr("x1",function(t){return o(t)}).attr("y1",-1*l(0)).attr("x2",function(t){return o(t)}).attr("y2",-1*l(-.3)),i.selectAll(".yTicks").data(l.ticks(4)).enter().append("svg:line").attr("class","yTicks").attr("y1",function(t){return-1*l(t)}).attr("x1",o(-.3)).attr("y2",function(t){return-1*l(t)}).attr("x2",o(0))}